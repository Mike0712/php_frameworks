Домашняя работа № 4

1. Было создано 3 миграции в директории migration. Это таблицы news и authors. Третья таблица news_authors - промежуточная, для реализации связи many-to-many так как у статьи может быть несколько авторов так и автор может иметь несколько статей. Модели были созданы только для первых двух таблиц. Хоть yii и допускает ситуацию по созданию модели для pivot таблиц, я не сторонник такого подхода, так что таблица news_item пока без модели.
Для заполнения таблиц уже имеющимися даными из прошлого д.з. был создан класс app\data\DbFaker и запущен в cli режиме (я использовал tinker), при этом использовались следующие клманды

Для таблицы news:
```php
$faker = new app\data\DbFaker;
$faker->model = 'article';
$faker->data = 'news';
$faker->execute();
```

Для таблицы authors:
```php
$faker = new app\data\DbFaker;
$faker->model = 'author';
$faker->data = 'authors';
$faker->execute();
```
Промежуточная таблица была заполнена вручную.

2. Были созданы связи: метод getAuthors() в модели Article и getArticles() в модели Author.
Применение этой связи во view https://github.com/Mike0712/php_frameworks/tree/homework4/yii.loc/views/site/article.php#L119

3. Реализация задания прошлого урока: в контроллере SiteController были изменены методы actionIndex() и actionArticle(). Теперь нам не нужно парсить файл с массивом новостей, у нас есть настоящая модель. Ну и был изменен метод actionSearchNews() на который направляются ajax запросы для поиска по сайту. Если на в прошлом д.з. для выора запросов использовалось регулярное выражение, то теперь мы сразу может отфильтровывать из базы при помощи оператора like, точнее ilike, что позволяет не ображать внимание на регистр поисковой фразы.